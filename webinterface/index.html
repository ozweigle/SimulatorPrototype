<!DOCTYPE HTML>
<html>
<head>
  <script type="text/javascript" src="scripts/client/upclick-min.js"></script>
  <script type="text/javascript" src="scripts/client/robotconnection.js"></script>
  <script type="text/javascript" src="scripts/client/simulator_functions.js"></script>
  <script type="text/javascript" src="scripts/client/gui_functions.js"></script>
  <script type="text/javascript" src="scripts/client/upload_functions.js"></script>
  
  <script type="text/javascript" src="http://cdn.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
  <script type="text/javascript" src="http://cdn.robotwebtools.org/roslibjs/current/roslib.min.js"></script>

  <script type="text/javascript" src="http://cdn.robotwebtools.org/EaselJS/current/easeljs.min.js"></script>
  <script type="text/javascript" src="http://cdn.robotwebtools.org/ros2djs/current/ros2d.min.js"></script>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

</head>

<script type="text/javascript">

  /**
   * Setup all GUI elements when the page is loaded.
   */
  function initViewer() {
    // Create the main viewer.
    var viewer = new ROS2D.Viewer({
      divID : 'map',
      width : 600,
      height : 500
    });

    // Setup the map client.
    var gridClient = new ROS2D.OccupancyGridClient({
      ros : ros,
      rootObject : viewer.scene
    });
  }

</script>

<body onload="registerUploadFunctions();" >

<h1>Simulator Prototype</h1>

<header>
  <form name="connectForm">
    Server:
    <input name="serverName" value="localhost" type="text" />
    Port:
    <input name="portNumber" value="9090" type="text" />
    <input type="button" name="connectButton" value="Connect" id="connectButton"
           onclick="connectToRobot(document.connectForm.serverName.value, document.connectForm.portNumber.value)" />
    <t id="statusConnect">Not Connected</t>
  </form>
</header>


<div class="mid">
<h2>Experiment Settings</h2>
<p>
<table>
  <tr>
    <td>Brain Model</td>        <td>&nbsp;</td>
    <td>Robot Model</td>        <td>&nbsp;</td>
    <td>Environment Model</td>  <td>&nbsp;</td>
    <td>Transfer Function</td>
  </tr>
  <tr>
    <td><input type="button" id="upload_brain_model" value="Load"></td>
    <td>&nbsp;</td>
    <td><input type="button" id="upload_robot_model" value="Load"></td>
    <td>&nbsp;</td>
    <td><input type="button" id="upload_env_model" value="Load"></td>
    <td>&nbsp;</td>
    <td><input type="button" id="upload_trans_func" value="Load"></td>
  </tr>
</table>
</p>
<p>
  <input type="button" name="simulateButton" value="Simulate" id="simulateButton"
                 onclick="publishOnTopic(start_sim, {data: true})" />
</p>
<h2>Simulator Visualization</h2>
<p>
  <input type="button" name="viewerStartButton" value="StartViewer" id="viwerStartButton"
		 onclick="initViewer()" />
</p>
<div id="map"></div>
</div>

<footer>
  <div id="statusBar">Status</div>
</footer>

</body>
</html>
